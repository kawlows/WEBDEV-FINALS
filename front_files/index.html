<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Book Tracker</title>
  <style>
    body { font-family: system-ui, sans-serif; max-width: 700px; margin: 2rem auto; }
    h1 { margin-bottom: 0.5rem; }
    form { margin-bottom: 1.5rem; }
    input { width: 100%; padding: 0.5rem; margin: 0.25rem 0 0.75rem; }
    button { padding: 0.5rem 1rem; cursor: pointer; }
    .book {
      border: 1px solid #ddd;
      padding: 0.75rem;
      margin-bottom: 0.75rem;
      border-radius: 4px;
    }
    .book-title { font-weight: 600; }
    .book-author { font-style: italic; }
    .book-actions { margin-top: 0.5rem; }
  </style>
</head>
<body>
  <h1>Book Tracker</h1>
   <button id="logout-btn" style="float: right; padding: 0.5rem 1rem; background: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer;">Logout</button>
  <p>Add books youâ€™re reading and keep a simple list.</p>

  <form id="book-form">
    <label>
      Title
      <input type="text" id="title" required />
    </label>
    <label>
      Author
      <input type="text" id="author" required />
    </label>
    <button type="submit">Add Book</button>
  </form>

  <h2>Your Books</h2>
  <div id="books-list"></div>

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="app.js"></script>
   <script>
    // Check if user is logged in
    window.addEventListener('load', () => {
      const token = localStorage.getItem('authToken');
      const username = localStorage.getItem('username');
      
      if (!token) {
        // Redirect to login if not authenticated
        window.location.href = 'login.html';
        return;
      }
      
      // Set authorization header for all future requests
      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;
      
      // Setup logout button
      const logoutBtn = document.getElementById('logout-btn');
      if (logoutBtn) {
        logoutBtn.addEventListener('click', () => {
          localStorage.removeItem('authToken');
          localStorage.removeItem('username');
          window.location.href = 'login.html';
        });
      }
    });
  </script>
</body>

</html>
